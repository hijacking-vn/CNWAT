<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7.11 Animation</title>
</head>

<body>
    <input type="button" value="Jump" onclick="start()">
    <input type="button" value="Stop" onclick="clearInterval(jumping)"><br>

    <img src="images/a0.png" name="duc" width="250" height="400">

    <script>
        let jumps = new Array(4);
        let currPosition = 0;
        let jumping, dir = "up";

        jumps[0] = new Image();
        jumps[0].src = "images/a0.png";
        jumps[1] = new Image();
        jumps[1].src = "images/a1.png";
        jumps[2] = new Image();
        jumps[2].src = "images/a2.png";
        jumps[3] = new Image();
        jumps[3].src = "images/a3.png";

        function jump() {
            if (dir == 'up') {
                if (currPosition == 3) {
                    --currPosition;
                    dir = 'down';
                } else {
                    ++currPosition;
                }
            } else {
                if (currPosition == 0) {
                    ++currPosition;
                    dir = 'up';
                } else {
                    --currPosition;
                }
            }
            document.duc.src = jumps[currPosition].src;
        }

        function start() {
            if (jumping) {
                clearInterval(jumping);
            }
            jumping = setInterval("jump()", 400);
        }
    </script>
</body>

</html>